SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='TRADITIONAL,ALLOW_INVALID_DATES';

DROP SCHEMA IF EXISTS `proxy` ;
CREATE SCHEMA IF NOT EXISTS `proxy` DEFAULT CHARACTER SET utf8 COLLATE utf8_general_ci ;
USE `proxy` ;

-- -----------------------------------------------------
-- Table `proxy`.`py_user`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `proxy`.`py_user` ;

CREATE TABLE IF NOT EXISTS `proxy`.`py_user` (
  `uid` INT UNSIGNED NOT NULL AUTO_INCREMENT,
  `username` VARCHAR(20) NOT NULL DEFAULT '' COMMENT '用户名',
  `password` CHAR(32) NOT NULL DEFAULT '' COMMENT '密码',
  `usserunion` INT UNSIGNED NOT NULL DEFAULT 0 COMMENT '用户所在频道ID',
  `count` INT UNSIGNED NOT NULL DEFAULT 0 COMMENT '采集数',
  `restime` INT UNSIGNED NOT NULL DEFAULT 0 COMMENT '注册时间',
  `logintime` INT UNSIGNED NOT NULL DEFAULT 0 COMMENT '登录时间',
  `loginip` VARCHAR(20) NOT NULL DEFAULT '' COMMENT '登录IP',
  `usergroup` TINYINT UNSIGNED NOT NULL DEFAULT 0 COMMENT '用户类型。0为普通用户，1为高级用户',
  `userlock` TINYINT UNSIGNED NOT NULL DEFAULT 0 COMMENT '是否锁定项。0为不锁定，1为锁定',
  PRIMARY KEY (`uid`))
ENGINE = MyISAM
COMMENT = '前台用户表';


-- -----------------------------------------------------
-- Table `proxy`.`py_admin`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `proxy`.`py_admin` ;

CREATE TABLE IF NOT EXISTS `proxy`.`py_admin` (
  `aid` INT UNSIGNED NOT NULL AUTO_INCREMENT,
  `username` VARCHAR(30) NOT NULL DEFAULT '' COMMENT '用户名',
  `password` CHAR(32) NOT NULL DEFAULT '' COMMENT '用户密码',
  `logintime` INT UNSIGNED NOT NULL DEFAULT 0 COMMENT '登录时间',
  `loginip` CHAR(20) NOT NULL DEFAULT '' COMMENT '登录IP',
  `lock` TINYINT UNSIGNED NOT NULL DEFAULT 0 COMMENT '是否锁定项。0为不锁定，1为锁定',
  PRIMARY KEY (`aid`))
ENGINE = MyISAM
COMMENT = '后台用户表';


-- -----------------------------------------------------
-- Table `proxy`.`py_category`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `proxy`.`py_category` ;

CREATE TABLE IF NOT EXISTS `proxy`.`py_category` (
  `cid` INT UNSIGNED NOT NULL AUTO_INCREMENT,
  `cntitle` VARCHAR(20) NOT NULL DEFAULT '' COMMENT '分类中文名称',
  `entitle` VARCHAR(20) NOT NULL DEFAULT '' COMMENT '分类英文名称',
  `pid` INT UNSIGNED NOT NULL DEFAULT 0 COMMENT '父级ID',
  PRIMARY KEY (`cid`))
ENGINE = MyISAM
COMMENT = '分类表';


-- -----------------------------------------------------
-- Table `proxy`.`py_video`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `proxy`.`py_video` ;

CREATE TABLE IF NOT EXISTS `proxy`.`py_video` (
  `vid` INT UNSIGNED NOT NULL AUTO_INCREMENT,
  `cnname` VARCHAR(30) NOT NULL DEFAULT '' COMMENT '中文影片名称',
  `enname` VARCHAR(30) NOT NULL DEFAULT '' COMMENT '英文影片名称',
  `content` TEXT NOT NULL COMMENT '采集内容',
  `uploadtime` INT UNSIGNED NOT NULL DEFAULT 0 COMMENT '上传时间',
  `uid` INT UNSIGNED NOT NULL DEFAULT 0 COMMENT '所属用户ID',
  `cid` INT UNSIGNED NOT NULL DEFAULT 0 COMMENT '所属分类ID',
  PRIMARY KEY (`vid`),
  INDEX `fk_py_collect_py_users_idx` (`uid` ASC),
  INDEX `fk_py_collect_py_category1_idx` (`cid` ASC))
ENGINE = MyISAM
COMMENT = '采集内容表';


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;
